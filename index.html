<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Жизненный Путь</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f4f8;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    #game {
      max-width: 600px;
      padding: 20px;
      background-color: white;
      box-shadow: 0 0 20px rgba(0,0,0,0.2);
      border-radius: 20px;
      text-align: center;
      font-size: 1.3em;
    }
    button {
      padding: 10px 20px;
      font-size: 1em;
      margin: 10px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      background-color: #4CAF50;
      color: white;
    }
    button:hover {
      background-color: #3e8e41;
    }
    input {
      padding: 10px;
      margin: 10px;
      width: 80%;
      font-size: 1em;
    }
  </style>
</head>
<body>
  <div id="game"></div>

  <script>
    const game = document.getElementById('game');
    let playerName = '';
    let partner = {};
    let childName = '';
    let gender = '';

    function startGame() {
      game.innerHTML = `
        <p>Добро пожаловать в игру "Жизненный Путь". Введите своё имя:</p>
        <input id="nameInput" placeholder="Ваше имя"/>
        <br/>
        <button onclick="chooseGender()">Далее</button>
      `;
    }

    function chooseGender() {
      playerName = document.getElementById('nameInput').value.trim();
      if (!playerName) return alert('Пожалуйста, введите имя');
      game.innerHTML = `
        <p>Привет, ${playerName}! Кто ты по полу?</p>
        <button onclick="showPartners('male')">Мужчина</button>
        <button onclick="showPartners('female')">Женщина</button>
      `;
    }

    function showPartners(selectedGender) {
      gender = selectedGender;
      const partners = {
        male: [
          { name: "Аня", hair: "русые", eyes: "зелёные", height: "165 см", trait: "весёлая и заботливая" },
          { name: "Катя", hair: "чёрные", eyes: "карие", height: "170 см", trait: "амбициозная и умная" },
          { name: "Лена", hair: "рыжие", eyes: "голубые", height: "160 см", trait: "творческая и мечтательная" }
        ],
        female: [
          { name: "Максим", hair: "тёмные", eyes: "серые", height: "180 см", trait: "сильный и добрый" },
          { name: "Игорь", hair: "светлые", eyes: "голубые", height: "175 см", trait: "спокойный и надёжный" },
          { name: "Саша", hair: "каштановые", eyes: "зелёные", height: "178 см", trait: "харизматичный и весёлый" }
        ]
      };

      let options = partners[selectedGender].map((p, index) => `
        <button onclick="choosePartner(${index})">
          ${p.name} — ${p.hair} волосы, ${p.eyes} глаза, рост ${p.height}, ${p.trait}
        </button>
      `).join('');

      game.innerHTML = `<p>Выбери партнёра:</p>${options}`;
    }

    function choosePartner(index) {
      const allPartners = {
        male: [
          { name: "Аня", hair: "русые", eyes: "зелёные", height: "165 см", trait: "весёлая и заботливая" },
          { name: "Катя", hair: "чёрные", eyes: "карие", height: "170 см", trait: "амбициозная и умная" },
          { name: "Лена", hair: "рыжие", eyes: "голубые", height: "160 см", trait: "творческая и мечтательная" }
        ],
        female: [
          { name: "Максим", hair: "тёмные", eyes: "серые", height: "180 см", trait: "сильный и добрый" },
          { name: "Игорь", hair: "светлые", eyes: "голубые", height: "175 см", trait: "спокойный и надёжный" },
          { name: "Саша", hair: "каштановые", eyes: "зелёные", height: "178 см", trait: "харизматичный и весёлый" }
        ]
      };
      partner = allPartners[gender][index];
      game.innerHTML = `
        <p>Прошло несколько лет. ${playerName} и ${partner.name} поженились. У вас крепкий брак...</p>
        <p>Но помни — даже в идеальных отношениях бывают испытания.</p>
        <button onclick="haveChild()">Завести ребёнка</button>
      `;
    }

    function haveChild() {
      const cheated = Math.random() < 0.5;
      if (cheated) {
        game.innerHTML = `
          <p>К сожалению, через несколько месяцев ты узнал(а), что ребёнок не твой...</p>
          <p>Твоё сердце не выдержало — игра окончена.</p>
          <button onclick="startGame()">Переиграть</button>
        `;
      } else {
        game.innerHTML = `
          <p>Поздравляем! ${partner.name} родила здорового малыша.</p>
          <p>Выберите имя для ребёнка:</p>
          <input id="childNameInput" placeholder="Имя ребёнка"/>
          <button onclick="raiseChild()">Продолжить</button>
        `;
      }
    }

    function raiseChild() {
      childName = document.getElementById('childNameInput').value.trim();
      if (!childName) return alert('Пожалуйста, введите имя ребёнка');
      const events = [
        `${childName} пошёл(ла) в первый класс!`,
        `${childName} заболел(а) и вы провели несколько дней вместе.`,
        `${childName} завёл(а) друзей и пошёл(ла) в кружок.`,
        `${childName} окончил(а) школу с отличием.`,
        `${childName} столкнулся(лась) с трудностями подросткового возраста.`
      ];
      const event = events[Math.floor(Math.random() * events.length)];
      game.innerHTML = `
        <p>Вы растите ${childName}. Время летит...</p>
        <p>${event}</p>
        <p>Спустя годы, ты оглядываешься назад и осознаешь: жизнь была полна испытаний и чудес.</p>
        <p>Конец. Спасибо за игру!</p>
        <button onclick="startGame()">Переиграть</button>
      `;
    }

    startGame();
  </script>
</body>
</html>
